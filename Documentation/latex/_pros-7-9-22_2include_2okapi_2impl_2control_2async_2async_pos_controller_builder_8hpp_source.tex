\hypertarget{_pros-7-9-22_2include_2okapi_2impl_2control_2async_2async_pos_controller_builder_8hpp_source}{}\doxysection{async\+Pos\+Controller\+Builder.\+hpp}
\label{_pros-7-9-22_2include_2okapi_2impl_2control_2async_2async_pos_controller_builder_8hpp_source}\index{Pros/Pros-\/7-\/9-\/22/include/okapi/impl/control/async/asyncPosControllerBuilder.hpp@{Pros/Pros-\/7-\/9-\/22/include/okapi/impl/control/async/asyncPosControllerBuilder.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{ * This Source Code Form is subject to the terms of the Mozilla Public}}
\DoxyCodeLine{3 \textcolor{comment}{ * License, v. 2.0. If a copy of the MPL was not distributed with this}}
\DoxyCodeLine{4 \textcolor{comment}{ * file, You can obtain one at http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{5 \textcolor{comment}{ */}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include "{}okapi/api/control/async/asyncPosIntegratedController.hpp"{}}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include "{}okapi/api/control/async/asyncPosPidController.hpp"{}}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include "{}okapi/api/control/async/asyncPositionController.hpp"{}}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include "{}okapi/api/util/logging.hpp"{}}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include "{}okapi/impl/device/motor/motor.hpp"{}}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include "{}okapi/impl/device/motor/motorGroup.hpp"{}}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include "{}okapi/impl/device/rotarysensor/adiEncoder.hpp"{}}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include "{}okapi/impl/device/rotarysensor/integratedEncoder.hpp"{}}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include "{}okapi/impl/util/timeUtilFactory.hpp"{}}}
\DoxyCodeLine{17 }
\DoxyCodeLine{18 \textcolor{keyword}{namespace }okapi \{}
\DoxyCodeLine{19 \textcolor{keyword}{class }AsyncPosControllerBuilder \{}
\DoxyCodeLine{20   \textcolor{keyword}{public}:}
\DoxyCodeLine{27   \textcolor{keyword}{explicit} \mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder_ab5016bcf0679d7bae87d19d21cbff95f}{AsyncPosControllerBuilder}}(}
\DoxyCodeLine{28     \textcolor{keyword}{const} std::shared\_ptr<Logger> \&ilogger = \mbox{\hyperlink{classokapi_1_1_logger_ac9dd2e38a412a692816f150b0ac3f0b4}{Logger::getDefaultLogger}}());}
\DoxyCodeLine{29 }
\DoxyCodeLine{36   \mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder}{AsyncPosControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder_afe930ec31b591b6b2bf80be12bba3d79}{withMotor}}(\textcolor{keyword}{const} \mbox{\hyperlink{classokapi_1_1_motor}{Motor}} \&imotor);}
\DoxyCodeLine{37 }
\DoxyCodeLine{44   \mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder}{AsyncPosControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder_aa93b974218c68cdd213274446a7fe4c4}{withMotor}}(\textcolor{keyword}{const} \mbox{\hyperlink{classokapi_1_1_motor_group}{MotorGroup}} \&imotor);}
\DoxyCodeLine{45 }
\DoxyCodeLine{52   \mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder}{AsyncPosControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder_a837f30643945bf8a5522c9a374ec98dc}{withMotor}}(\textcolor{keyword}{const} std::shared\_ptr<AbstractMotor> \&imotor);}
\DoxyCodeLine{53 }
\DoxyCodeLine{60   \mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder}{AsyncPosControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder_aab579369bc48c43c207cecc23d20b424}{withSensor}}(\textcolor{keyword}{const} \mbox{\hyperlink{classokapi_1_1_a_d_i_encoder}{ADIEncoder}} \&isensor);}
\DoxyCodeLine{61 }
\DoxyCodeLine{68   \mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder}{AsyncPosControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder_ad6667ad29a7834452b50390294cde4fa}{withSensor}}(\textcolor{keyword}{const} \mbox{\hyperlink{classokapi_1_1_integrated_encoder}{IntegratedEncoder}} \&isensor);}
\DoxyCodeLine{69 }
\DoxyCodeLine{76   \mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder}{AsyncPosControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder_a1e6bf12a95ebde3adc90f3d6cfaf9adc}{withSensor}}(\textcolor{keyword}{const} std::shared\_ptr<RotarySensor> \&isensor);}
\DoxyCodeLine{77 }
\DoxyCodeLine{85   \mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder}{AsyncPosControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder_a4ac4afe101f6e49150d5f285ccd02e50}{withGains}}(\textcolor{keyword}{const} \mbox{\hyperlink{structokapi_1_1_iterative_pos_p_i_d_controller_1_1_gains}{IterativePosPIDController::Gains}} \&igains);}
\DoxyCodeLine{86 }
\DoxyCodeLine{95   \mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder}{AsyncPosControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder_a6d1bda12787e919e9b52d06703824fd1}{withDerivativeFilter}}(std::unique\_ptr<Filter> iderivativeFilter);}
\DoxyCodeLine{96 }
\DoxyCodeLine{103   \mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder}{AsyncPosControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder_a70ac24982216681b1e05a20306b2271b}{withGearset}}(\textcolor{keyword}{const} \mbox{\hyperlink{structokapi_1_1_abstract_motor_1_1_gearset_ratio_pair}{AbstractMotor::GearsetRatioPair}} \&igearset);}
\DoxyCodeLine{104 }
\DoxyCodeLine{112   \mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder}{AsyncPosControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder_ad95a82910616350d5519fd391143d26d}{withMaxVelocity}}(\textcolor{keywordtype}{double} imaxVelocity);}
\DoxyCodeLine{113 }
\DoxyCodeLine{121   \mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder}{AsyncPosControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder_afbec86a67bab3037b2d633dc10575702}{withTimeUtilFactory}}(\textcolor{keyword}{const} \mbox{\hyperlink{classokapi_1_1_time_util_factory}{TimeUtilFactory}} \&itimeUtilFactory);}
\DoxyCodeLine{122 }
\DoxyCodeLine{129   \mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder}{AsyncPosControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder_ace47053e63313f56c5646e41e5410335}{withLogger}}(\textcolor{keyword}{const} std::shared\_ptr<Logger> \&ilogger);}
\DoxyCodeLine{130 }
\DoxyCodeLine{141   \mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder}{AsyncPosControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder_aeb6bc091cef58dfddb3af235d88fbee7}{parentedToCurrentTask}}();}
\DoxyCodeLine{142 }
\DoxyCodeLine{154   \mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder}{AsyncPosControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder_a9f9bf5e46f7c98b13cb3cf86f64e12c6}{notParentedToCurrentTask}}();}
\DoxyCodeLine{155 }
\DoxyCodeLine{161   std::shared\_ptr<AsyncPositionController<double, double>> \mbox{\hyperlink{classokapi_1_1_async_pos_controller_builder_a15bce1f485fee03c7f1772736eea7075}{build}}();}
\DoxyCodeLine{162 }
\DoxyCodeLine{163   \textcolor{keyword}{private}:}
\DoxyCodeLine{164   std::shared\_ptr<Logger> logger;}
\DoxyCodeLine{165 }
\DoxyCodeLine{166   \textcolor{keywordtype}{bool} hasMotors\{\textcolor{keyword}{false}\}; \textcolor{comment}{// Used to verify motors were passed}}
\DoxyCodeLine{167   std::shared\_ptr<AbstractMotor> motor;}
\DoxyCodeLine{168 }
\DoxyCodeLine{169   \textcolor{keywordtype}{bool} sensorsSetByUser\{\textcolor{keyword}{false}\}; \textcolor{comment}{// Used so motors don't overwrite sensors set manually}}
\DoxyCodeLine{170   std::shared\_ptr<RotarySensor> sensor;}
\DoxyCodeLine{171 }
\DoxyCodeLine{172   \textcolor{keywordtype}{bool} hasGains\{\textcolor{keyword}{false}\}; \textcolor{comment}{// Whether gains were passed, no gains means integrated control}}
\DoxyCodeLine{173   IterativePosPIDController::Gains gains;}
\DoxyCodeLine{174   std::unique\_ptr<Filter> derivativeFilter = std::make\_unique<PassthroughFilter>();}
\DoxyCodeLine{175 }
\DoxyCodeLine{176   \textcolor{keywordtype}{bool} gearsetSetByUser\{\textcolor{keyword}{false}\}; \textcolor{comment}{// Used so motor's don't overwrite a gearset set manually}}
\DoxyCodeLine{177   AbstractMotor::GearsetRatioPair pair\{AbstractMotor::gearset::invalid\};}
\DoxyCodeLine{178 }
\DoxyCodeLine{179   \textcolor{keywordtype}{bool} maxVelSetByUser\{\textcolor{keyword}{false}\}; \textcolor{comment}{// Used so motors don't overwrite maxVelocity}}
\DoxyCodeLine{180   \textcolor{keywordtype}{double} maxVelocity\{600\};}
\DoxyCodeLine{181 }
\DoxyCodeLine{182   TimeUtilFactory timeUtilFactory = TimeUtilFactory();}
\DoxyCodeLine{183   std::shared\_ptr<Logger> controllerLogger = \mbox{\hyperlink{classokapi_1_1_logger_ac9dd2e38a412a692816f150b0ac3f0b4}{Logger::getDefaultLogger}}();}
\DoxyCodeLine{184 }
\DoxyCodeLine{185   \textcolor{keywordtype}{bool} isParentedToCurrentTask\{\textcolor{keyword}{true}\};}
\DoxyCodeLine{186 }
\DoxyCodeLine{187   std::shared\_ptr<AsyncPosIntegratedController> buildAPIC();}
\DoxyCodeLine{188   std::shared\_ptr<AsyncPosPIDController> buildAPPC();}
\DoxyCodeLine{189 \};}
\DoxyCodeLine{190 \} \textcolor{comment}{// namespace okapi}}

\end{DoxyCode}
