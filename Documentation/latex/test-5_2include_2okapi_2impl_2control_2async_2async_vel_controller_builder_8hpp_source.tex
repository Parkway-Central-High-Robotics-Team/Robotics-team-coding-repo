\hypertarget{test-5_2include_2okapi_2impl_2control_2async_2async_vel_controller_builder_8hpp_source}{}\doxysection{async\+Vel\+Controller\+Builder.\+hpp}
\label{test-5_2include_2okapi_2impl_2control_2async_2async_vel_controller_builder_8hpp_source}\index{Pros/test-\/5/include/okapi/impl/control/async/asyncVelControllerBuilder.hpp@{Pros/test-\/5/include/okapi/impl/control/async/asyncVelControllerBuilder.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{ * This Source Code Form is subject to the terms of the Mozilla Public}}
\DoxyCodeLine{3 \textcolor{comment}{ * License, v. 2.0. If a copy of the MPL was not distributed with this}}
\DoxyCodeLine{4 \textcolor{comment}{ * file, You can obtain one at http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{5 \textcolor{comment}{ */}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include "{}okapi/api/control/async/asyncVelIntegratedController.hpp"{}}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include "{}okapi/api/control/async/asyncVelPidController.hpp"{}}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include "{}okapi/api/control/async/asyncVelocityController.hpp"{}}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include "{}okapi/api/util/logging.hpp"{}}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include "{}okapi/impl/device/motor/motor.hpp"{}}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include "{}okapi/impl/device/motor/motorGroup.hpp"{}}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include "{}okapi/impl/device/rotarysensor/adiEncoder.hpp"{}}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include "{}okapi/impl/device/rotarysensor/integratedEncoder.hpp"{}}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include "{}okapi/impl/util/timeUtilFactory.hpp"{}}}
\DoxyCodeLine{17 }
\DoxyCodeLine{18 \textcolor{keyword}{namespace }okapi \{}
\DoxyCodeLine{19 \textcolor{keyword}{class }AsyncVelControllerBuilder \{}
\DoxyCodeLine{20   \textcolor{keyword}{public}:}
\DoxyCodeLine{27   \textcolor{keyword}{explicit} \mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder_a2240959e5feeb59b630fe93e6e993996}{AsyncVelControllerBuilder}}(}
\DoxyCodeLine{28     \textcolor{keyword}{const} std::shared\_ptr<Logger> \&ilogger = \mbox{\hyperlink{classokapi_1_1_logger_ac9dd2e38a412a692816f150b0ac3f0b4}{Logger::getDefaultLogger}}());}
\DoxyCodeLine{29 }
\DoxyCodeLine{36   \mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder}{AsyncVelControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder_a64b047406f6aa211691f99b2da80fd29}{withMotor}}(\textcolor{keyword}{const} \mbox{\hyperlink{classokapi_1_1_motor}{Motor}} \&imotor);}
\DoxyCodeLine{37 }
\DoxyCodeLine{44   \mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder}{AsyncVelControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder_a8c818cb67b99b64722df86a1e391c7da}{withMotor}}(\textcolor{keyword}{const} \mbox{\hyperlink{classokapi_1_1_motor_group}{MotorGroup}} \&imotor);}
\DoxyCodeLine{45 }
\DoxyCodeLine{52   \mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder}{AsyncVelControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder_aadd1a0eb89fb1c5dad47b1700f953ff1}{withMotor}}(\textcolor{keyword}{const} std::shared\_ptr<AbstractMotor> \&imotor);}
\DoxyCodeLine{53 }
\DoxyCodeLine{60   \mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder}{AsyncVelControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder_a611d50478ee813ce9b0c5b5ed113d6db}{withSensor}}(\textcolor{keyword}{const} \mbox{\hyperlink{classokapi_1_1_a_d_i_encoder}{ADIEncoder}} \&isensor);}
\DoxyCodeLine{61 }
\DoxyCodeLine{68   \mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder}{AsyncVelControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder_a3f21552feaedb4592289c32d3cd20b05}{withSensor}}(\textcolor{keyword}{const} \mbox{\hyperlink{classokapi_1_1_integrated_encoder}{IntegratedEncoder}} \&isensor);}
\DoxyCodeLine{69 }
\DoxyCodeLine{76   \mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder}{AsyncVelControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder_a4bfe71bea3ec45c6b10ec66047b06c4c}{withSensor}}(\textcolor{keyword}{const} std::shared\_ptr<RotarySensor> \&isensor);}
\DoxyCodeLine{77 }
\DoxyCodeLine{85   \mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder}{AsyncVelControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder_af919e427baf0c06790895f5cb9ce333d}{withGains}}(\textcolor{keyword}{const} \mbox{\hyperlink{structokapi_1_1_iterative_vel_p_i_d_controller_1_1_gains}{IterativeVelPIDController::Gains}} \&igains);}
\DoxyCodeLine{86 }
\DoxyCodeLine{94   \mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder}{AsyncVelControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder_aa385c0ae6f8464955a950465b7cff1b6}{withVelMath}}(std::unique\_ptr<VelMath> ivelMath);}
\DoxyCodeLine{95 }
\DoxyCodeLine{104   \mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder}{AsyncVelControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder_ae3d54b49f57ed29410013d112f6141cc}{withDerivativeFilter}}(std::unique\_ptr<Filter> iderivativeFilter);}
\DoxyCodeLine{105 }
\DoxyCodeLine{112   \mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder}{AsyncVelControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder_a128d0a52035c576258bc3ca10958c45f}{withGearset}}(\textcolor{keyword}{const} \mbox{\hyperlink{structokapi_1_1_abstract_motor_1_1_gearset_ratio_pair}{AbstractMotor::GearsetRatioPair}} \&igearset);}
\DoxyCodeLine{113 }
\DoxyCodeLine{121   \mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder}{AsyncVelControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder_a7e4651e36c2a2dffa425a95c70bdd703}{withMaxVelocity}}(\textcolor{keywordtype}{double} imaxVelocity);}
\DoxyCodeLine{122 }
\DoxyCodeLine{130   \mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder}{AsyncVelControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder_a4996a83333f1affdd0b77054ece7d07d}{withTimeUtilFactory}}(\textcolor{keyword}{const} \mbox{\hyperlink{classokapi_1_1_time_util_factory}{TimeUtilFactory}} \&itimeUtilFactory);}
\DoxyCodeLine{131 }
\DoxyCodeLine{138   \mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder}{AsyncVelControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder_a39fc6798e638b770cd10674bfebbb844}{withLogger}}(\textcolor{keyword}{const} std::shared\_ptr<Logger> \&ilogger);}
\DoxyCodeLine{139 }
\DoxyCodeLine{150   \mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder}{AsyncVelControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder_af9f2734578c8300b409fb27543b75a18}{parentedToCurrentTask}}();}
\DoxyCodeLine{151 }
\DoxyCodeLine{163   \mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder}{AsyncVelControllerBuilder}} \&\mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder_a49799282479ad7f29645265838b99ae0}{notParentedToCurrentTask}}();}
\DoxyCodeLine{164 }
\DoxyCodeLine{170   std::shared\_ptr<AsyncVelocityController<double, double>> \mbox{\hyperlink{classokapi_1_1_async_vel_controller_builder_a23ecaa0969360f45c4f0266ff81fdb6d}{build}}();}
\DoxyCodeLine{171 }
\DoxyCodeLine{172   \textcolor{keyword}{private}:}
\DoxyCodeLine{173   std::shared\_ptr<Logger> logger;}
\DoxyCodeLine{174 }
\DoxyCodeLine{175   \textcolor{keywordtype}{bool} hasMotors\{\textcolor{keyword}{false}\}; \textcolor{comment}{// Used to verify motors were passed}}
\DoxyCodeLine{176   std::shared\_ptr<AbstractMotor> motor;}
\DoxyCodeLine{177 }
\DoxyCodeLine{178   \textcolor{keywordtype}{bool} sensorsSetByUser\{\textcolor{keyword}{false}\}; \textcolor{comment}{// Used so motors don't overwrite sensors set manually}}
\DoxyCodeLine{179   std::shared\_ptr<RotarySensor> sensor;}
\DoxyCodeLine{180 }
\DoxyCodeLine{181   \textcolor{keywordtype}{bool} hasGains\{\textcolor{keyword}{false}\}; \textcolor{comment}{// Whether gains were passed, no gains means integrated control}}
\DoxyCodeLine{182   IterativeVelPIDController::Gains gains;}
\DoxyCodeLine{183 }
\DoxyCodeLine{184   \textcolor{keywordtype}{bool} hasVelMath\{\textcolor{keyword}{false}\}; \textcolor{comment}{// Used to verify velMath was passed}}
\DoxyCodeLine{185   std::unique\_ptr<VelMath> velMath;}
\DoxyCodeLine{186 }
\DoxyCodeLine{187   std::unique\_ptr<Filter> derivativeFilter = std::make\_unique<PassthroughFilter>();}
\DoxyCodeLine{188 }
\DoxyCodeLine{189   \textcolor{keywordtype}{bool} gearsetSetByUser\{\textcolor{keyword}{false}\}; \textcolor{comment}{// Used so motor's don't overwrite a gearset set manually}}
\DoxyCodeLine{190   AbstractMotor::GearsetRatioPair pair\{AbstractMotor::gearset::invalid\};}
\DoxyCodeLine{191 }
\DoxyCodeLine{192   \textcolor{keywordtype}{bool} maxVelSetByUser\{\textcolor{keyword}{false}\}; \textcolor{comment}{// Used so motors don't overwrite maxVelocity}}
\DoxyCodeLine{193   \textcolor{keywordtype}{double} maxVelocity\{600\};}
\DoxyCodeLine{194 }
\DoxyCodeLine{195   TimeUtilFactory timeUtilFactory = TimeUtilFactory();}
\DoxyCodeLine{196   std::shared\_ptr<Logger> controllerLogger = \mbox{\hyperlink{classokapi_1_1_logger_ac9dd2e38a412a692816f150b0ac3f0b4}{Logger::getDefaultLogger}}();}
\DoxyCodeLine{197 }
\DoxyCodeLine{198   \textcolor{keywordtype}{bool} isParentedToCurrentTask\{\textcolor{keyword}{true}\};}
\DoxyCodeLine{199 }
\DoxyCodeLine{200   std::shared\_ptr<AsyncVelIntegratedController> buildAVIC();}
\DoxyCodeLine{201   std::shared\_ptr<AsyncVelPIDController> buildAVPC();}
\DoxyCodeLine{202 \};}
\DoxyCodeLine{203 \} \textcolor{comment}{// namespace okapi}}

\end{DoxyCode}
