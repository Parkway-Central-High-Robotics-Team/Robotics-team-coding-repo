\hypertarget{test-6_2include_2okapi_2api_2chassis_2controller_2chassis_controller_pid_8hpp_source}{}\doxysection{chassis\+Controller\+Pid.\+hpp}
\label{test-6_2include_2okapi_2api_2chassis_2controller_2chassis_controller_pid_8hpp_source}\index{Pros/test-\/6/include/okapi/api/chassis/controller/chassisControllerPid.hpp@{Pros/test-\/6/include/okapi/api/chassis/controller/chassisControllerPid.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{ * This Source Code Form is subject to the terms of the Mozilla Public}}
\DoxyCodeLine{3 \textcolor{comment}{ * License, v. 2.0. If a copy of the MPL was not distributed with this}}
\DoxyCodeLine{4 \textcolor{comment}{ * file, You can obtain one at http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{5 \textcolor{comment}{ */}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include "{}okapi/api/chassis/controller/chassisController.hpp"{}}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include "{}okapi/api/control/iterative/iterativePosPidController.hpp"{}}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include "{}okapi/api/util/abstractRate.hpp"{}}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include "{}okapi/api/util/logging.hpp"{}}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include "{}okapi/api/util/timeUtil.hpp"{}}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include <atomic>}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include <tuple>}}
\DoxyCodeLine{16 }
\DoxyCodeLine{17 \textcolor{keyword}{namespace }okapi \{}
\DoxyCodeLine{18 \textcolor{keyword}{class }ChassisControllerPID : \textcolor{keyword}{public} ChassisController \{}
\DoxyCodeLine{19   \textcolor{keyword}{public}:}
\DoxyCodeLine{34   \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_ab11bd00c672aa7e9d93e313e00deb1b6}{ChassisControllerPID}}(}
\DoxyCodeLine{35     \mbox{\hyperlink{classokapi_1_1_time_util}{TimeUtil}} itimeUtil,}
\DoxyCodeLine{36     std::shared\_ptr<ChassisModel> imodel,}
\DoxyCodeLine{37     std::unique\_ptr<IterativePosPIDController> idistanceController,}
\DoxyCodeLine{38     std::unique\_ptr<IterativePosPIDController> iturnController,}
\DoxyCodeLine{39     std::unique\_ptr<IterativePosPIDController> iangleController,}
\DoxyCodeLine{40     \textcolor{keyword}{const} \mbox{\hyperlink{structokapi_1_1_abstract_motor_1_1_gearset_ratio_pair}{AbstractMotor::GearsetRatioPair}} \&igearset = \mbox{\hyperlink{classokapi_1_1_abstract_motor_a88aaa6ea2fa10f5520a537bbf26774d5a9f27410725ab8cc8854a2769c7a516b8}{AbstractMotor::gearset::green}},}
\DoxyCodeLine{41     \textcolor{keyword}{const} \mbox{\hyperlink{classokapi_1_1_chassis_scales}{ChassisScales}} \&iscales = \mbox{\hyperlink{classokapi_1_1_chassis_scales}{ChassisScales}}(\{1, 1\}, imev5GreenTPR),}
\DoxyCodeLine{42     std::shared\_ptr<Logger> ilogger = \mbox{\hyperlink{classokapi_1_1_logger_ac9dd2e38a412a692816f150b0ac3f0b4}{Logger::getDefaultLogger}}());}
\DoxyCodeLine{43 }
\DoxyCodeLine{44   \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d}{ChassisControllerPID}}(\textcolor{keyword}{const} \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d}{ChassisControllerPID}} \&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{45   \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d}{ChassisControllerPID}}(\mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d}{ChassisControllerPID}} \&\&other) = \textcolor{keyword}{delete};}
\DoxyCodeLine{46   \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d}{ChassisControllerPID}} \&operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d}{ChassisControllerPID}} \&other) = \textcolor{keyword}{delete};}
\DoxyCodeLine{47   \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d}{ChassisControllerPID}} \&operator=(\mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d}{ChassisControllerPID}} \&\&other) = \textcolor{keyword}{delete};}
\DoxyCodeLine{48 }
\DoxyCodeLine{49   \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d}{\string~ChassisControllerPID}}() \textcolor{keyword}{override};}
\DoxyCodeLine{50 }
\DoxyCodeLine{64   \textcolor{keywordtype}{void} \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_ab5f0409c6add9b1c3b176b61643de067}{moveDistance}}(QLength itarget) \textcolor{keyword}{override};}
\DoxyCodeLine{65 }
\DoxyCodeLine{76   \textcolor{keywordtype}{void} \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_ad5758e465db565299c44a0e4dab56451}{moveRaw}}(\textcolor{keywordtype}{double} itarget) \textcolor{keyword}{override};}
\DoxyCodeLine{77 }
\DoxyCodeLine{83   \textcolor{keywordtype}{void} \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_affad4aa1b0bd54db728ac600493a6c4c}{moveDistanceAsync}}(QLength itarget) \textcolor{keyword}{override};}
\DoxyCodeLine{84 }
\DoxyCodeLine{90   \textcolor{keywordtype}{void} \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_ae330335f22140fc4daa062fb1e68ffb0}{moveRawAsync}}(\textcolor{keywordtype}{double} itarget) \textcolor{keyword}{override};}
\DoxyCodeLine{91 }
\DoxyCodeLine{102   \textcolor{keywordtype}{void} \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_a56aae5a15daa9ed81963dd48fce69535}{turnAngle}}(QAngle idegTarget) \textcolor{keyword}{override};}
\DoxyCodeLine{103 }
\DoxyCodeLine{114   \textcolor{keywordtype}{void} \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_ae844b8a8472b0d8445a0ce6b0290af8a}{turnRaw}}(\textcolor{keywordtype}{double} idegTarget) \textcolor{keyword}{override};}
\DoxyCodeLine{115 }
\DoxyCodeLine{121   \textcolor{keywordtype}{void} \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_a391c12c7b3cb5461cd28c4aebc4aeab0}{turnAngleAsync}}(QAngle idegTarget) \textcolor{keyword}{override};}
\DoxyCodeLine{122 }
\DoxyCodeLine{128   \textcolor{keywordtype}{void} \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_a049d84fa3894762bb89824ea279c5836}{turnRawAsync}}(\textcolor{keywordtype}{double} idegTarget) \textcolor{keyword}{override};}
\DoxyCodeLine{129 }
\DoxyCodeLine{135   \textcolor{keywordtype}{void} \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_a1e68419f6e695fd35576a6d886618741}{setTurnsMirrored}}(\textcolor{keywordtype}{bool} ishouldMirror) \textcolor{keyword}{override};}
\DoxyCodeLine{136 }
\DoxyCodeLine{142   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_a569b10d6af973e338ec27bd9e8d69a5d}{isSettled}}() \textcolor{keyword}{override};}
\DoxyCodeLine{143 }
\DoxyCodeLine{147   \textcolor{keywordtype}{void} \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_a964cc8132bfa76492df0ee06aadb255a}{waitUntilSettled}}() \textcolor{keyword}{override};}
\DoxyCodeLine{148 }
\DoxyCodeLine{152   \mbox{\hyperlink{classokapi_1_1_chassis_scales}{ChassisScales}} \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_a75f4e1b26f2440ac4066fd740dee7b13}{getChassisScales}}() \textcolor{keyword}{const override};}
\DoxyCodeLine{153 }
\DoxyCodeLine{157   \mbox{\hyperlink{structokapi_1_1_abstract_motor_1_1_gearset_ratio_pair}{AbstractMotor::GearsetRatioPair}} \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_a50673f2911c969e2f6e89b02a29ce582}{getGearsetRatioPair}}() \textcolor{keyword}{const override};}
\DoxyCodeLine{158 }
\DoxyCodeLine{167   \textcolor{keywordtype}{void} \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_a2325280ebca6ddc45fe6bc197b0dcb00}{setVelocityMode}}(\textcolor{keywordtype}{bool} ivelocityMode);}
\DoxyCodeLine{168 }
\DoxyCodeLine{176   \textcolor{keywordtype}{void} \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_a0ca6f7a6fd0da41031681d09614a8837}{setGains}}(\textcolor{keyword}{const} \mbox{\hyperlink{structokapi_1_1_iterative_pos_p_i_d_controller_1_1_gains}{IterativePosPIDController::Gains}} \&idistanceGains,}
\DoxyCodeLine{177                 \textcolor{keyword}{const} \mbox{\hyperlink{structokapi_1_1_iterative_pos_p_i_d_controller_1_1_gains}{IterativePosPIDController::Gains}} \&iturnGains,}
\DoxyCodeLine{178                 \textcolor{keyword}{const} \mbox{\hyperlink{structokapi_1_1_iterative_pos_p_i_d_controller_1_1_gains}{IterativePosPIDController::Gains}} \&iangleGains);}
\DoxyCodeLine{179 }
\DoxyCodeLine{185   std::tuple<\mbox{\hyperlink{structokapi_1_1_iterative_pos_p_i_d_controller_1_1_gains}{IterativePosPIDController::Gains}},}
\DoxyCodeLine{186              \mbox{\hyperlink{structokapi_1_1_iterative_pos_p_i_d_controller_1_1_gains}{IterativePosPIDController::Gains}},}
\DoxyCodeLine{187              \mbox{\hyperlink{structokapi_1_1_iterative_pos_p_i_d_controller_1_1_gains}{IterativePosPIDController::Gains}}>}
\DoxyCodeLine{188   \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_ae158a6b789d5a8ce97391d7251ee936a}{getGains}}() \textcolor{keyword}{const};}
\DoxyCodeLine{189 }
\DoxyCodeLine{194   \textcolor{keywordtype}{void} \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_aaf7664abcf588a985bb8755df62eacd9}{startThread}}();}
\DoxyCodeLine{195 }
\DoxyCodeLine{201   \mbox{\hyperlink{class_crossplatform_thread}{CrossplatformThread}} *\mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_a1f46569d95876a690e99048e0fd9935e}{getThread}}() \textcolor{keyword}{const};}
\DoxyCodeLine{202 }
\DoxyCodeLine{206   \textcolor{keywordtype}{void} \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_a852462fc20fb2322bbb3fd984b01a121}{stop}}() \textcolor{keyword}{override};}
\DoxyCodeLine{207 }
\DoxyCodeLine{214   \textcolor{keywordtype}{void} \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_a460500469efac5015feac674b57948c0}{setMaxVelocity}}(\textcolor{keywordtype}{double} imaxVelocity) \textcolor{keyword}{override};}
\DoxyCodeLine{215 }
\DoxyCodeLine{219   \textcolor{keywordtype}{double} \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_a34cffe02f0b3fe0636a3f91741cc1dde}{getMaxVelocity}}() \textcolor{keyword}{const override};}
\DoxyCodeLine{220 }
\DoxyCodeLine{224   std::shared\_ptr<ChassisModel> \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_adffe6c9a65b6bd7664e0a884638d9097}{getModel}}() \textcolor{keyword}{override};}
\DoxyCodeLine{225 }
\DoxyCodeLine{229   \mbox{\hyperlink{classokapi_1_1_chassis_model}{ChassisModel}} \&\mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_a225446cae7b569ff104d41d9aa2ae9b8}{model}}() \textcolor{keyword}{override};}
\DoxyCodeLine{230 }
\DoxyCodeLine{231   \textcolor{keyword}{protected}:}
\DoxyCodeLine{232   std::shared\_ptr<Logger> logger;}
\DoxyCodeLine{233   \textcolor{keywordtype}{bool} normalTurns\{\textcolor{keyword}{true}\};}
\DoxyCodeLine{234   std::shared\_ptr<ChassisModel> chassisModel;}
\DoxyCodeLine{235   \mbox{\hyperlink{classokapi_1_1_time_util}{TimeUtil}} timeUtil;}
\DoxyCodeLine{236   std::unique\_ptr<IterativePosPIDController> distancePid;}
\DoxyCodeLine{237   std::unique\_ptr<IterativePosPIDController> turnPid;}
\DoxyCodeLine{238   std::unique\_ptr<IterativePosPIDController> anglePid;}
\DoxyCodeLine{239   \mbox{\hyperlink{classokapi_1_1_chassis_scales}{ChassisScales}} scales;}
\DoxyCodeLine{240   \mbox{\hyperlink{structokapi_1_1_abstract_motor_1_1_gearset_ratio_pair}{AbstractMotor::GearsetRatioPair}} gearsetRatioPair;}
\DoxyCodeLine{241   \textcolor{keywordtype}{bool} velocityMode\{\textcolor{keyword}{true}\};}
\DoxyCodeLine{242   std::atomic\_bool doneLooping\{\textcolor{keyword}{true}\};}
\DoxyCodeLine{243   std::atomic\_bool doneLoopingSeen\{\textcolor{keyword}{true}\};}
\DoxyCodeLine{244   std::atomic\_bool newMovement\{\textcolor{keyword}{false}\};}
\DoxyCodeLine{245   std::atomic\_bool dtorCalled\{\textcolor{keyword}{false}\};}
\DoxyCodeLine{246   QTime threadSleepTime\{10\_ms\};}
\DoxyCodeLine{247 }
\DoxyCodeLine{248   \textcolor{keyword}{static} \textcolor{keywordtype}{void} trampoline(\textcolor{keywordtype}{void} *context);}
\DoxyCodeLine{249   \textcolor{keywordtype}{void} loop();}
\DoxyCodeLine{250 }
\DoxyCodeLine{256   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_a991349bc2dad71324203d4b298edd845}{waitForDistanceSettled}}();}
\DoxyCodeLine{257 }
\DoxyCodeLine{263   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_a736ca24bff70d502f5ff724ed88f9f62}{waitForAngleSettled}}();}
\DoxyCodeLine{264 }
\DoxyCodeLine{268   \textcolor{keywordtype}{void} \mbox{\hyperlink{classokapi_1_1_chassis_controller_p_i_d_ac8dffc9df4025ece0303194a0fbc58ff}{stopAfterSettled}}();}
\DoxyCodeLine{269 }
\DoxyCodeLine{270   \textcolor{keyword}{typedef} \textcolor{keyword}{enum} \{ distance, angle, none \} modeType;}
\DoxyCodeLine{271   modeType mode\{none\};}
\DoxyCodeLine{272 }
\DoxyCodeLine{273   \mbox{\hyperlink{class_crossplatform_thread}{CrossplatformThread}} *task\{\textcolor{keyword}{nullptr}\};}
\DoxyCodeLine{274 \};}
\DoxyCodeLine{275 \} \textcolor{comment}{// namespace okapi}}

\end{DoxyCode}
